#ifndef USER_MOTOR_H_
#define USER_MOTOR_H_

#include <stdint.h>

#define motor_num  5
#define lead_screw 10
#define tray_num   11       														//11 料盘总数为10， 第0 个为料仓托举到机器人工作位置

typedef struct {
    uint8_t id;																		//1,2,3,4,5
    uint8_t isreach_pos;
    uint8_t pos_next;
} MotorStatus;


extern MotorStatus motor_statuses[motor_num];										//电机状态
extern uint8_t inputs[motor_num];													//输入状态
extern int32_t position[motor_num][tray_num];     									//料盘位置


void Motor_Init(void);   															//初始化电机
void motorGoHome(uint8_t slaveAddr);												//电机回零
void motor_AllGoHome(void);															//所有电机回零
void motorGoPosition(uint8_t slaveAddr,uint16_t speed,uint8_t acc,int32_t pos); 	//指定电机运行到绝对位置
void motorReadPosition(uint8_t slaveAddr); 											//读取电机的绝对位置
void motor_read();																	//读取输入
//void motor_state_run(void);														//协同测试用，后面就不需要了
void motor_posInit(void);															//初始化各盘位置
void motion_dectect(void);															//运动状态检测
void MoveFirstMotors(uint8_t state,uint16_t speed,uint8_t acc);						//移动第一组电机
void MoveSecondMotors(uint8_t state,uint16_t speed,uint8_t acc);					//移动第二组电机
void MoveFifthMotors(uint16_t speed,uint8_t acc,int32_t pos);                   	//移动第五个电机




#endif /* USER_MOTOR_H_ */
